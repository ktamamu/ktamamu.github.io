<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600" width="1000" height="600">
  <style>
    .title { font: bold 20px sans-serif; fill: #333; }
    .section-title { font: bold 16px sans-serif; fill: #1976d2; }
    .box-title { font: bold 14px sans-serif; fill: #01579b; }
    .text { font: 12px sans-serif; fill: #333; }
    .small-text { font: 10px sans-serif; fill: #666; }
    .github-box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
    .aws-box { fill: #fff8e1; stroke: #ff9800; stroke-width: 2; }
    .component-box { fill: #fff; stroke: #666; stroke-width: 1; }
    .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="500" y="30" class="title" text-anchor="middle">Lambda CI/CD Architecture</text>
  
  <!-- GitHub Organization -->
  <rect x="50" y="60" width="900" height="150" rx="8" class="github-box"/>
  <text x="70" y="85" class="section-title">GitHub Organization</text>
  
  <!-- terraform-infrastructure -->
  <rect x="100" y="100" width="350" height="90" rx="5" class="component-box"/>
  <text x="275" y="120" class="box-title" text-anchor="middle">terraform-infrastructure</text>
  <text x="120" y="140" class="text">- VPC, RDS, S3, IAM Roles</text>
  <text x="120" y="160" class="text">- Shared Values to SSM</text>
  <text x="120" y="180" class="small-text">(Managed by: Infra Team)</text>
  
  <!-- lambda-applications -->
  <rect x="500" y="100" width="350" height="90" rx="5" class="component-box"/>
  <text x="675" y="120" class="box-title" text-anchor="middle">lambda-applications</text>
  <text x="520" y="140" class="text">- Lambda Functions</text>
  <text x="520" y="160" class="text">- Layers, Aliases</text>
  <text x="520" y="180" class="small-text">(Managed by: App Team)</text>
  
  <!-- AWS Account -->
  <rect x="50" y="250" width="900" height="300" rx="8" class="aws-box"/>
  <text x="70" y="275" class="section-title">AWS Account</text>
  
  <!-- SSM Parameter Store -->
  <rect x="100" y="300" width="250" height="120" rx="5" class="component-box"/>
  <text x="225" y="320" class="box-title" text-anchor="middle">SSM Parameter Store</text>
  <text x="120" y="345" class="text">/shared/</text>
  <text x="140" y="365" class="small-text">- iam/role-arn</text>
  <text x="140" y="380" class="small-text">- vpc/subnet-ids</text>
  <text x="140" y="395" class="small-text">- rds/endpoint</text>
  <text x="120" y="415" class="text">/apps/function-name/latest-version</text>
  
  <!-- Lambda Functions -->
  <rect x="400" y="300" width="250" height="120" rx="5" class="component-box"/>
  <text x="525" y="320" class="box-title" text-anchor="middle">Lambda Functions</text>
  <text x="420" y="345" class="text">Functions:</text>
  <text x="430" y="365" class="small-text">- user-auth-function</text>
  <text x="430" y="380" class="small-text">- order-processing</text>
  <text x="430" y="395" class="small-text">- payment-service</text>
  
  <!-- Aliases -->
  <rect x="700" y="300" width="200" height="120" rx="5" class="component-box"/>
  <text x="800" y="320" class="box-title" text-anchor="middle">Aliases</text>
  <rect x="720" y="335" width="160" height="20" rx="3" fill="#e1bee7" stroke="#9c27b0"/>
  <text x="730" y="350" class="small-text">development → $LATEST</text>
  <rect x="720" y="360" width="160" height="20" rx="3" fill="#ce93d8" stroke="#9c27b0"/>
  <text x="730" y="375" class="small-text">staging → v16</text>
  <rect x="720" y="385" width="160" height="20" rx="3" fill="#ba68c8" stroke="#9c27b0"/>
  <text x="730" y="400" class="small-text" fill="#fff">production → v15</text>
  
  <!-- Infrastructure -->
  <rect x="100" y="450" width="200" height="80" rx="5" class="component-box"/>
  <text x="200" y="470" class="box-title" text-anchor="middle">Infrastructure</text>
  <text x="120" y="490" class="small-text">VPC, Subnets, Security Groups</text>
  <text x="120" y="505" class="small-text">RDS, S3, IAM Roles</text>
  <text x="120" y="520" class="small-text">CloudWatch Logs</text>
  
  <!-- Lambda Layers -->
  <rect x="350" y="450" width="200" height="80" rx="5" class="component-box"/>
  <text x="450" y="470" class="box-title" text-anchor="middle">Lambda Layers</text>
  <text x="370" y="490" class="small-text">- dependencies-layer</text>
  <text x="370" y="505" class="small-text">- company-utils-layer</text>
  
  <!-- Arrows -->
  <!-- terraform to Infrastructure -->
  <path d="M 275 190 L 200 450" class="arrow"/>
  <text x="220" y="320" class="small-text" fill="#1976d2">terraform apply</text>
  
  <!-- terraform to SSM -->
  <path d="M 275 190 L 225 300" class="arrow"/>
  <text x="240" y="240" class="small-text" fill="#1976d2">SSM output</text>
  
  <!-- lambda-app to Lambda Functions -->
  <path d="M 675 190 L 525 300" class="arrow"/>
  <text x="580" y="240" class="small-text" fill="#1976d2">sam deploy</text>
  
  <!-- SSM to Lambda (bidirectional) -->
  <path d="M 350 360 L 400 360" class="arrow"/>
  <text x="355" y="355" class="small-text" fill="#ff9800">reference</text>
  
  <!-- Lambda to Aliases -->
  <line x1="650" y1="360" x2="700" y2="360" stroke="#7b1fa2" stroke-width="2"/>
  
  <!-- Legend -->
  <rect x="600" y="480" width="300" height="50" rx="5" fill="#f5f5f5" stroke="#ccc"/>
  <text x="615" y="500" class="text" font-weight="bold">Legend:</text>
  <line x1="615" y1="510" x2="670" y2="510" class="arrow"/>
  <text x="680" y="515" class="small-text">Deploy Flow</text>
  <line x1="615" y1="525" x2="670" y2="525" stroke="#999" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="680" y="530" class="small-text">Dependency</text>
</svg>
