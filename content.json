{"posts":[{"title":"sshdã®æ¥ç¶šå…ƒã‚’æ—¥æœ¬ã®IPã«é™å®šã™ã‚‹","text":"fetus å›½ï¼åœ°åŸŸåˆ¥IPã‚¢ãƒ‰ãƒ¬ã‚¹å‰²ã‚ŠæŒ¯ã‚Šä¸€è¦§ ã®IPãƒªã‚¹ãƒˆã‚’å–å¾—ã—ã€SSHã®æ¥ç¶šå…ƒã‚’æ—¥æœ¬ã®IPã«é™å®šã™ã‚‹ ç’°å¢ƒæƒ…å ± OS Ubuntu Version 24.04.2 LTS hosts.allowã¨hosts.denyã®è¨­å®š æœ€çµ‚è¡Œã¯æ”¹è¡ŒãŒå¿…è¦ï¼ˆæ”¹è¡ŒãŒãªã„ã¨æ­£å¸¸ã«å‹•ä½œã—ãªã„ï¼‰ /etc/hosts.allow 12sshd: /etc/jp.allow /etc/hosts.deny 12ALL : ALL ã‚¹ã‚¯ãƒªãƒ—ãƒˆå¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å–å¾— 1pip install requests jp_allow.py 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253import requests# IPãƒªã‚¹ãƒˆã‚’å–å¾—ã™ã‚‹URLURL = &quot;https://ipv4.fetus.jp/jp.txt&quot;def convert_subnet(cidr_value): ''' ã‚µãƒ–ãƒãƒƒãƒˆã‚’255.255.255.0å½¢å¼ã«å¤‰æ›ã™ã‚‹é–¢æ•° ''' subnet_map = { 8: &quot;255.0.0.0&quot;, 9: &quot;255.128.0.0&quot;, 10: &quot;255.192.0.0&quot;, 11: &quot;255.224.0.0&quot;, 12: &quot;255.240.0.0&quot;, 13: &quot;255.248.0.0&quot;, 14: &quot;255.252.0.0&quot;, 15: &quot;255.254.0.0&quot;, 16: &quot;255.255.0.0&quot;, 17: &quot;255.255.128.0&quot;, 18: &quot;255.255.192.0&quot;, 19: &quot;255.255.224.0&quot;, 20: &quot;255.255.240.0&quot;, 21: &quot;255.255.248.0&quot;, 22: &quot;255.255.252.0&quot;, 23: &quot;255.255.254.0&quot;, 24: &quot;255.255.255.0&quot;, 25: &quot;255.255.255.128&quot;, 26: &quot;255.255.255.192&quot;, 27: &quot;255.255.255.224&quot;, 28: &quot;255.255.255.240&quot;, 29: &quot;255.255.255.248&quot;, 30: &quot;255.255.255.252&quot;, 31: &quot;255.255.255.254&quot;, 32: &quot;255.255.255.255&quot; } return subnet_map.get(cidr_value)# URLã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—response = requests.get(URL, timeout=5)ip_data = response.text.splitlines()# jp.allowå½¢å¼ã«å¤‰æ›with open(&quot;/etc/jp.allow&quot;, &quot;w&quot;, encoding=&quot;utf-8&quot;) as file: output = [] for line in ip_data: if line and not line.startswith(&quot;#&quot;): # ã‚³ãƒ¡ãƒ³ãƒˆè¡Œã‚’ã‚¹ã‚­ãƒƒãƒ— ip, cidr = line.split('/') subnet = convert_subnet(int(cidr)) output.append(f&quot;{ip}/{subnet}&quot;) file.write(&quot; &quot;.join(output)) # ã‚¹ãƒšãƒ¼ã‚¹ã§åŒºåˆ‡ã£ã¦æ›¸ãè¾¼ã¿print(&quot;IPãƒªã‚¹ãƒˆãŒjp.allowãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›ã•ã‚Œã¾ã—ãŸã€‚&quot;) å®Ÿè¡Œ /etc ã«æ›¸ãè¾¼ã‚€ãŸã‚ç®¡ç†è€…æ¨©é™ãŒå¿…è¦ 1sudo python jp_allow.py æ³¨æ„ hosts.allowã¨hosts.denyã¯æ¥ç¶šã®åº¦ã«å‹•çš„ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹ã®ã§ã€åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ç­‰ã§è©¦è¡Œã—ã¦ã‹ã‚‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’åˆ‡æ–­ã™ã‚‹ã“ã¨","link":"/2025/06/23/jp_allow/"},{"title":"Route53ã¨ã‚ªãƒ³ãƒ—ãƒ¬DNSã«ãŠã‘ã‚‹æ¡ä»¶ä»˜ããƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼ã¨å§”ä»»ã®æ§‹æˆæ¯”è¼ƒ","text":"Route 53 ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã¸ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã® DNS ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å§”ä»»ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§è©¦ã—ã¦ã¿ãŸ(Qiita) ã‚’èª­ã‚“ã§ã€æ§‹æˆã®æ–¹å‘ã‚„é–¢ä¿‚æ€§ã‚’æ•´ç†ã—ãŸã„ãªã€ã¨æ€ã£ãŸã®ã§ã€Claudeã«ç›¸è«‡ã—ãŸã¨ã“ã‚â€¦ æ§‹æˆå›³ãŒã§ããŸã€‚ã‚ã£ã¡ã‚ƒã‚ã‹ã‚Šã‚„ã™ã„ã€‚ ã‚¹ãƒãƒ›ã§è¦‹ã‚‹æ™‚ã¯æ¨ªã«ã—ãªã„ã¨è¦‹ã«ãã„ã®ã§æ³¨æ„ã€‚","link":"/2025/06/29/route53_onprem-dns/"},{"title":"Slackã®Incoming Webhooksã«ã¤ã„ã¦","text":"è‡ªåˆ†ã®çŸ¥ã£ã¦ã„ãŸSlackã®Incoming-Webhookã¯Legacyã¨ã—ã¦ã‹ãªã‚Šå‰ã«éæ¨å¥¨ã«ãªã£ã¦ã„ãŸè©±ã€‚ ã‚µãƒãƒ¼ãƒˆã«é–¢ã™ã‚‹æƒ…å ±Discontinuing support for legacy custom bots and classic appsã«ã‚ˆã‚Œã° 2024å¹´6æœˆ: æ–°ã—ã„legacy appsã¨classic appsã®ä½œæˆã‚’ãƒ–ãƒ­ãƒƒã‚¯é–‹å§‹ 2025å¹´3æœˆ31æ—¥: legacy custom botsã®ã‚µãƒãƒ¼ãƒˆçµ‚äº† 2026å¹´5æœˆ25æ—¥: classic appsã®ã‚µãƒãƒ¼ãƒˆçµ‚äº† å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä¸Šè¨˜ã®ã‚‚ã®ã§ã€Legacy Custom Integrationsã«ã‚ãŸã‚‹ã€Legacy Incoming Webhookã¯æ˜ç¢ºã«æœŸæ—¥ã‚’æ±ºã‚ã‚‰ã‚Œã¦ã„ã‚‹ã‚ã‘ã§ã¯ãªã•ãã†ã€‚è‰²ã€…ã¨ä»•æ§˜ã®å¤‰æ›´ã«ã¤ã„ã¦ã¯æ›¸ã‹ã‚Œã¦ã„ã‚‹ã‘ã©ã€åŸºæœ¬çš„ã«ã¯payloadã¨ã—ã¦äº’æ›æ€§ã‚‚ã‚ã‚‹ã®ã§ã€ã²ã¨ã¾ãšç§»è¡Œã—ã¦ã—ã¾ã£ãŸæ–¹ãŒç„¡é›£ã¨ã„ã†çµè«–ã€‚ Legacy Incoming Webhook ã¨ Incoming WebhookLegacy Incoming Webhook Incoming Webhookã§ã‚¢ãƒ—ãƒªã‚’æ¤œç´¢ã™ã‚‹ã¨è¡¨ç¤ºã•ã‚Œã‚‹ We do not recommend their use. ã¨ã„ã†æ³¨æ„æ›¸ããŒä¸Šéƒ¨ã«ã‚ã‚‹ è¨­å®šç”»é¢ãŒï¼‘ç”»é¢ã§å®Œçµã—ã€éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãè¨­å®šã§ãã‚‹ Incoming Webhook Slack Appã‚’ã«ã¦Create New Appã‚’é¸æŠ From scratchã‚’é¸æŠã€App Nameã¨workspaceã‚’å…¥åŠ›ã—ã¦Create Basic Informationã®Display Informationã‚’å…¥åŠ› Features &gt; Incoming Webhooks Activate Incoming Webhooks ã‚’ On ã«ã™ã‚‹ Add New Webhookã§ã€URLã‚’channelã”ã¨ã«ä½œæˆã™ã‚‹ ãã‚Œãã‚Œã®é•ã„ Legacy Incoming Webhook ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰å†…ã§usernameã€iconã€channelã‚’ä¸Šæ›¸ãã§ãã‚‹ URLçŸ¥ã£ã¦ãŸã‚‰ã©ã®channelã§ã‚‚æ›¸ãè¾¼ã‚ã‚‹ã‚ã‘ã§ã€ã‚ã‚“ã¾ã‚Šã‚ˆããªã„ä»•æ§˜ ç‰¹ã« ä½œæˆè€…ãŒçµ„ç¹”ã‚’é›¢ã‚Œã‚‹ã¨WebhookãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ç®¡ç†ä¸Šã®å•é¡Œ ãŒæ·±åˆ» ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯attachmentsã§è¡¨ç¾ Incoming Webhook ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯Block Kitã‚’ä½¿ç”¨ã—ã¦ã‚ˆã‚Šé«˜åº¦ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆãŒå¯èƒ½ ç§»è¡Œæ–¹æ³•ã¯Migrate your legacy message compositions to blocks ãŸã ã—ã€attachmentsã‚‚éæ¨å¥¨ã ãŒä½¿ãˆã‚‹ã®ã§äº’æ›æ€§ã¯æ‹…ä¿ã•ã‚Œãã† ç‰¹ã«è‰²æŒ‡å®šã¯attachmentsã—ã‹è¡¨ç¾ã§ããšã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç·Šæ€¥åº¦ã§è‰²åˆ†ã‘ã—ãŸã„ã‚±ãƒ¼ã‚¹ï¼ˆç›£è¦–ã‚¢ãƒ©ãƒ¼ãƒˆç­‰ï¼‰ã§ã¯ä½¿ã†ã—ã‹ãªã•ãã† è‰²æŒ‡å®šã«good/warning/dangerã¯ä½¿ãˆãªã„ã¨ã„ã†æƒ…å ±ã‚’è¦‹ã‹ã‘ãŸã‘ã©ã€å•é¡Œãªãä½¿ãˆãŸã€‚ã‚«ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚‚OKï¼ˆä¾‹ï¼š#ff0000ï¼‰ attachmentsã§ã®ãƒ†ã‚¹ãƒˆãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ 1234567891011curl -X POST -H 'Content-type: application/json' \\ --data '{ &quot;text&quot;: &quot;Hello, World!&quot;, &quot;attachments&quot;: [ { &quot;color&quot;: &quot;good&quot;, &quot;text&quot;: &quot;This is a test message&quot; } ] }' \\ https://{YOUR_WEBHOOK_URL}","link":"/2025/06/25/slack_webhooks/"},{"title":"uvã§ã®pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã¨ä»®æƒ³ç’°å¢ƒç®¡ç†","text":"uv ã®è¨­å®šãƒ¡ãƒ¢ ç’°å¢ƒæƒ…å ± OS macOS Version 15.5 BuildVersion 24F74 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«1brew install uv ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆå›è¨­å®šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§åˆæœŸåŒ–1uv init pyproject.tomlãŒç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®š pyproject.toml 1234567...[project]name = &quot;Project Name&quot;version = &quot;0.1.0&quot;description = &quot;Add your description here&quot;readme = &quot;README.md&quot;requires-python = &quot;&gt;=3.13&quot; requirements.txtã®å–ã‚Šè¾¼ã¿1uv add -r requirements.txt requirements.txtã‚’å–ã‚Šè¾¼ã‚“ã å¾Œã¯å‰Šé™¤ã—ã¦ã‚‚OK pyproject.tomlã‚’ã‚‚ã¨ã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«1uv sync dependabot.github/dependabot.yml 123456version: 2updates: - package-ecosystem: &quot;uv&quot; # See documentation for possible values directory: &quot;/&quot; # Location of package manifests schedule: interval: &quot;weekly&quot; .gitignore.gitignore 12345...# uv package manager.uv/uv.lock.uvignore ä½œæ¥­é–‹å§‹æ™‚ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹åŒ–1. .venv/bin/activate ä½œæ¥­çµ‚äº†æ™‚ä»®æƒ³ç’°å¢ƒã‚’ç„¡åŠ¹åŒ–1deactivate","link":"/2025/06/22/uv/"},{"title":"zed editorã§ã®Bedrockæ¥ç¶šï¼ˆProxyçµŒç”±ï¼‰","text":"zed ã§Amazon Bedrockæ¥ç¶šï¼ˆProxyçµŒç”±ï¼‰ã®è¨­å®šãƒ¡ãƒ¢ ç’°å¢ƒæƒ…å ± OS macOS Version 15.5 å‰æ AWS CLIãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šãŒå®Œäº†ã—ã¦ã„ã‚‹ã“ã¨ Bedrockã®ãƒ¢ãƒ‡ãƒ«æœ‰åŠ¹åŒ–AWSãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§åˆ©ç”¨ã—ãŸã„Regionã§Bedrockã®ç”»é¢ã¸ã‚¢ã‚¯ã‚»ã‚¹â€œBedrock configurationsâ€ &gt; â€œãƒ¢ãƒ‡ãƒ«ã‚¢ã‚¯ã‚»ã‚¹â€ ã§æœ‰åŠ¹åŒ–ã—ãŸã„ãƒ¢ãƒ‡ãƒ«ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ Zed ã§ã®Bedrockã®è¨­å®š Authentication via Named Profile (Recommended) Network Proxy Setting.jsonã‚’ç·¨é›† 1234567&quot;language_models&quot;: { &quot;bedrock&quot;: { &quot;authentication_method&quot;: &quot;named_profile&quot;, &quot;region&quot;: &quot;{your-aws-region}}&quot;, &quot;profile&quot;: &quot;{your-profile-name}&quot; },&quot;proxy&quot;: &quot;http://username:password@proxyserver:port&quot; è¨­å®šå¾Œã€å¿…ãšZedã®å†èµ·å‹•ãŒå¿…è¦","link":"/2025/06/22/zed_bedrock/"},{"title":"miseã§ã®Nodeãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†","text":"mise ã®è¨­å®šãƒ¡ãƒ¢ ç’°å¢ƒæƒ…å ± OS macOS Version 15.5 BuildVersion 24F74 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«12curl https://mise.run | shecho 'eval &quot;$(~/.local/bin/mise activate zsh)&quot;' &gt;&gt; ~/.zshrc ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª1mise doctor Node.jsã®è¨­å®š1234mise ls-remote nodemise use node@22.16.0# ã‚°ãƒ­ãƒ¼ãƒãƒ«ã®å ´åˆmise use -g node@22.16.0 ãƒªãƒã‚¸ãƒˆãƒªå†…ã§ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®š.mise.toml 12[tools]node = &quot;22.16.0&quot; 1mise install","link":"/2025/06/22/mise/"},{"title":"zshã¨bashã¯é•ã†","text":"jqã‚’ä½¿ã£ãŸæ™‚ã«æ°—ã¥ã„ãŸè©± bashã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§.items[]ã‚’ãƒªãƒ†ãƒ©ãƒ«ãªæ–‡å­—åˆ—ã¨ã—ã¦æ‰±ã†ã€‚ 123# bashecho '{&quot;items&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]}' | jq -r .items[] | xargs echoa b c zshã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã€ã‚¯ã‚©ãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„å¼•æ•°ã‚’ã‚°ãƒ­ãƒ–ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦æ‰±ãŠã†ã¨ã™ã‚‹ã€‚ 123# zshecho '{&quot;items&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]}' | jq -r .items[] | xargs echozsh: no matches found: .items[] zshã§ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’æ­£ã—ãå‹•ä½œã•ã›ã‚‹ã«ã¯ã€.items[]ã‚’ã‚¯ã‚©ãƒ¼ãƒˆã§å›²ã‚€å¿…è¦ãŒã‚ã‚‹ã€‚ 12echo '{&quot;items&quot;: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]}' | jq -r '.items[]' | xargs echoa b c shellcheckã‚’ä½¿ã†ã¨å®‰å¿ƒMacã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ 1brew install shellcheck","link":"/2024/09/07/zsh_bash/"}],"tags":[{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"Python","slug":"Python","link":"/tags/Python/"},{"name":"sshd","slug":"sshd","link":"/tags/sshd/"},{"name":"Route53","slug":"Route53","link":"/tags/Route53/"},{"name":"DNS","slug":"DNS","link":"/tags/DNS/"},{"name":"BIND","slug":"BIND","link":"/tags/BIND/"},{"name":"Slack","slug":"Slack","link":"/tags/Slack/"},{"name":"uv","slug":"uv","link":"/tags/uv/"},{"name":"Zed","slug":"Zed","link":"/tags/Zed/"},{"name":"Bedrock","slug":"Bedrock","link":"/tags/Bedrock/"},{"name":"Node.js","slug":"Node-js","link":"/tags/Node-js/"},{"name":"mise","slug":"mise","link":"/tags/mise/"},{"name":"zsh","slug":"zsh","link":"/tags/zsh/"},{"name":"bash","slug":"bash","link":"/tags/bash/"}],"categories":[{"name":"Linux","slug":"Linux","link":"/categories/Linux/"},{"name":"DNS","slug":"DNS","link":"/categories/DNS/"},{"name":"Slack","slug":"Slack","link":"/categories/Slack/"},{"name":"Python","slug":"Python","link":"/categories/Python/"},{"name":"Zed","slug":"Zed","link":"/categories/Zed/"},{"name":"Node.js","slug":"Node-js","link":"/categories/Node-js/"},{"name":"Mac","slug":"Mac","link":"/categories/Mac/"}],"pages":[{"title":"","text":"Route53ã¨ã‚ªãƒ³ãƒ—ãƒ¬DNSã«ãŠã‘ã‚‹æ¡ä»¶ä»˜ããƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼ã¨å§”ä»»ã®æ§‹æˆæ¯”è¼ƒ body { font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 20px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh; } .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); overflow: hidden; } .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; text-align: center; } .header h1 { margin: 0; font-size: 24px; font-weight: 300; } .content { padding: 30px; } .diagram-section { margin-bottom: 40px; background: #f8f9fa; border-radius: 10px; padding: 25px; border-left: 5px solid #667eea; } .section-title { font-size: 20px; font-weight: 600; color: #333; margin-bottom: 20px; display: flex; align-items: center; } .section-title::before { content: \"\"; width: 8px; height: 8px; background: #667eea; border-radius: 50%; margin-right: 10px; } .diagram { background: white; border-radius: 8px; padding: 20px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); } .network-box { border: 2px solid #ddd; border-radius: 8px; padding: 15px; margin: 10px; background: #fff; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); } .onprem { border-color: #28a745; background: linear-gradient(145deg, #d4edda, #c3e6cb); } .aws { border-color: #ff9500; background: linear-gradient(145deg, #fff3cd, #ffeaa7); } .network-title { font-weight: bold; font-size: 16px; margin-bottom: 10px; color: #333; } .server-box { background: white; border: 2px solid #007bff; border-radius: 6px; padding: 10px; margin: 8px 0; text-align: center; position: relative; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); } .dns-server { border-color: #007bff; background: linear-gradient(145deg, #e3f2fd, #bbdefb); } .client { border-color: #6c757d; background: linear-gradient(145deg, #f8f9fa, #e9ecef); } .route53 { border-color: #ff9500; background: linear-gradient(145deg, #fff3cd, #ffeaa7); } .flow-step { display: flex; align-items: center; margin: 15px 0; padding: 15px; background: white; border-radius: 8px; border-left: 4px solid #17a2b8; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); } .step-number { background: #17a2b8; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px; flex-shrink: 0; } .arrow { font-size: 24px; color: #dc3545; margin: 0 10px; animation: pulse 2s infinite; } @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } } .config-box { background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 5px; padding: 10px; margin: 10px 0; font-family: monospace; font-size: 12px; color: #495057; } .highlight { background: #fff3cd; border: 1px solid #ffeaa7; padding: 3px 6px; border-radius: 3px; font-weight: bold; } .comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; } .comparison-item { background: white; border-radius: 8px; padding: 20px; border: 2px solid #e9ecef; } .old-method { border-color: #dc3545; } .new-method { border-color: #28a745; } .method-title { font-weight: bold; font-size: 16px; margin-bottom: 15px; padding: 8px 12px; border-radius: 5px; color: white; } .old-title { background: #dc3545; } .new-title { background: #28a745; } @media (max-width: 768px) { .comparison { grid-template-columns: 1fr; } .content { padding: 20px; } } Route53ã¨ã‚ªãƒ³ãƒ—ãƒ¬DNSã«ãŠã‘ã‚‹æ¡ä»¶ä»˜ããƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼ã¨å§”ä»»ã®æ§‹æˆæ¯”è¼ƒ å¾“æ¥ã®æ§‹æˆï¼šæ¡ä»¶ä»˜ããƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼ ğŸ¢ ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ç’°å¢ƒ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ 10.1.1.100 â†“ ãƒªã‚¾ãƒ«ãƒãƒ¼DNSã‚µãƒ¼ãƒãƒ¼ 10.1.1.3 æ¡ä»¶ä»˜ããƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼è¨­å®š zone \"intra.example.com\" { &nbsp;&nbsp;forwarders { 10.1.1.2; }; } zone \"delegate-test.intra.example.com\" { &nbsp;&nbsp;forwarders { 10.128.130.26; }; } æ¨©å¨DNSã‚µãƒ¼ãƒãƒ¼ 10.1.1.2 intra.example.com ã‚’ç®¡ç† â˜ï¸ AWS VPC Route 53 ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ 10.128.130.26 â†“ Route 53ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ delegate-test.intra.example.com 1 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒ hoge.delegate-test.intra.example.com ã®åå‰è§£æ±ºã‚’è¦æ±‚ 2 ãƒªã‚¾ãƒ«ãƒãƒ¼DNSã‚µãƒ¼ãƒãƒ¼ãŒæ¡ä»¶ã‚’ãƒã‚§ãƒƒã‚¯ï¼š delegate-test.intra.example.com ã«è©²å½“ â†’ Route 53ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«è»¢é€ 3 Route 53ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ã‹ã‚‰å›ç­”ã‚’å–å¾— 4 çµæœã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”å´ æ–°ã—ã„æ§‹æˆï¼šDNSå§”ä»» ğŸ¢ ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ç’°å¢ƒ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ 10.1.1.100 â†“ ãƒªã‚¾ãƒ«ãƒãƒ¼DNSã‚µãƒ¼ãƒãƒ¼ 10.1.1.3 ã‚·ãƒ³ãƒ—ãƒ«ãªè»¢é€è¨­å®š zone \"intra.example.com\" { &nbsp;&nbsp;forwarders { 10.1.1.2; }; } // ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®šã¯ä¸è¦ï¼ æ¨©å¨DNSã‚µãƒ¼ãƒãƒ¼ 10.1.1.2 å§”ä»»è¨­å®šã‚ã‚Š delegate-test IN NS ns1.delegate-test ns1.delegate-test IN A 10.128.130.26 // æ­£å¼ãªå§”ä»»é–¢ä¿‚ â˜ï¸ AWS VPC Route 53 ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ 10.128.130.26 Delegationå¯¾å¿œ â†“ Route 53ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ›ã‚¹ãƒˆã‚¾ãƒ¼ãƒ³ delegate-test.intra.example.com 1 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒ hoge.delegate-test.intra.example.com ã®åå‰è§£æ±ºã‚’è¦æ±‚ 2 ãƒªã‚¾ãƒ«ãƒãƒ¼DNSã‚µãƒ¼ãƒãƒ¼ãŒæ¨©å¨DNSã‚µãƒ¼ãƒãƒ¼ã«å•ã„åˆã‚ã› 3 æ¨©å¨DNSã‚µãƒ¼ãƒãƒ¼ãŒå§”ä»»æƒ…å ±ã‚’è¿”å´ï¼š ã€Œdelegate-test.intra.example.com ã¯ 10.128.130.26 ã«å§”ä»»ã•ã‚Œã¦ã„ã¾ã™ã€ 4 ãƒªã‚¾ãƒ«ãƒãƒ¼DNSã‚µãƒ¼ãƒãƒ¼ãŒå§”ä»»å…ˆã®Route 53ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«å•ã„åˆã‚ã› 5 çµæœã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«è¿”å´ å¾“æ¥ã®æ–¹æ³•ï¼šæ¡ä»¶ä»˜ããƒ•ã‚©ãƒ¯ãƒ¼ãƒ€ãƒ¼ è¨­å®šå ´æ‰€ï¼šãƒªã‚¾ãƒ«ãƒãƒ¼DNSã‚µãƒ¼ãƒãƒ¼ ç®¡ç†æ–¹æ³•ï¼šãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã«è»¢é€ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®š DNSéšå±¤ï¼šéæ¨™æº–çš„ãªæ§‹æˆ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼šã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ æ™‚ã«è¨­å®šå¤‰æ›´ãŒå¿…è¦ çµ±åˆ¶ï¼šãƒªã‚¾ãƒ«ãƒãƒ¼å´ã§åˆ¶å¾¡ æ–°ã—ã„æ–¹æ³•ï¼šDNSå§”ä»» è¨­å®šå ´æ‰€ï¼šæ¨©å¨DNSã‚µãƒ¼ãƒãƒ¼ ç®¡ç†æ–¹æ³•ï¼šæ¨™æº–çš„ãªDNSå§”ä»» DNSéšå±¤ï¼šæ¨™æº–çš„ãªéšå±¤æ§‹é€  ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ï¼šæ¨©å¨ã‚µãƒ¼ãƒãƒ¼ã§ä¸€å…ƒç®¡ç† çµ±åˆ¶ï¼šæ¨©å¨ã‚µãƒ¼ãƒãƒ¼å´ã§åˆ¶å¾¡","link":"/html/20250629_dns.html"}]}