{"posts":[{"title":"miseでのNodeバージョン管理","text":"mise の設定メモ 環境情報 OS macOS Version 15.5 BuildVersion 24F74 インストール12curl https://mise.run | shecho 'eval &quot;$(~/.local/bin/mise activate zsh)&quot;' &gt;&gt; ~/.zshrc インストール確認1mise doctor Node.jsの設定1234mise ls-remote nodemise use node@22.16.0# グローバルの場合mise use -g node@22.16.0 リポジトリ内でのバージョン指定.mise.toml 12[tools]node = &quot;22.16.0&quot; 1mise install","link":"/2025/06/22/mise/"},{"title":"zed editorでのBedrock接続（Proxy経由）","text":"zed でAmazon Bedrock接続（Proxy経由）の設定メモ 環境情報 OS macOS Version 15.5 前提 AWS CLIがインストールされ、プロファイル設定が完了していること Bedrockのモデル有効化AWSマネジメントコンソールで利用したいRegionでBedrockの画面へアクセス“Bedrock configurations” &gt; “モデルアクセス” で有効化したいモデルをリクエスト Zed でのBedrockの設定 Authentication via Named Profile (Recommended) Network Proxy Setting.jsonを編集 1234567&quot;language_models&quot;: { &quot;bedrock&quot;: { &quot;authentication_method&quot;: &quot;named_profile&quot;, &quot;region&quot;: &quot;{your-aws-region}}&quot;, &quot;profile&quot;: &quot;{your-profile-name}&quot; },&quot;proxy&quot;: &quot;http://username:password@proxyserver:port&quot; 設定後、必ずZedの再起動が必要","link":"/2025/06/22/zed_bedrock/"},{"title":"uvでのpythonバージョン管理と仮想環境管理","text":"uv の設定メモ 環境情報 OS macOS Version 15.5 BuildVersion 24F74 インストール1brew install uv プロジェクト初回設定プロジェクトディレクトリで初期化1uv init pyproject.tomlが生成されるため、pythonバージョンを指定 pyproject.toml 1234567...[project]name = &quot;Project Name&quot;version = &quot;0.1.0&quot;description = &quot;Add your description here&quot;readme = &quot;README.md&quot;requires-python = &quot;&gt;=3.13&quot; requirements.txtの取り込み1uv add -r requirements.txt requirements.txtを取り込んだ後は削除してもOK pyproject.tomlをもとにパッケージをインストール1uv sync dependabot.github/dependabot.yml 123456version: 2updates: - package-ecosystem: &quot;uv&quot; # See documentation for possible values directory: &quot;/&quot; # Location of package manifests schedule: interval: &quot;weekly&quot; .gitignore.gitignore 12345...# uv package manager.uv/uv.lock.uvignore 作業開始時仮想環境を有効化1. .venv/bin/activate 作業終了時仮想環境を無効化1deactivate","link":"/2025/06/22/uv/"},{"title":"sshdの接続元を日本のIPに限定する","text":"fetus 国/地域別IPアドレス割り振り一覧 のIPリストを取得し、SSHの接続元を日本のIPに限定する 環境情報 OS Ubuntu Version 24.04.2 LTS sshdの設定 最終行は改行が必要（改行がないと正常に動作しない） /etc/hosts.allow 12sshd: /etc/jp.allow /etc/hosts.deny 12ALL : ALL スクリプト必要なライブラリの取得 1pip install requests jp_allow.py 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253import requests# IPリストを取得するURLURL = &quot;https://ipv4.fetus.jp/jp.txt&quot;def convert_subnet(cidr_value): ''' サブネットを255.255.255.0形式に変換する関数 ''' subnet_map = { 8: &quot;255.0.0.0&quot;, 9: &quot;255.128.0.0&quot;, 10: &quot;255.192.0.0&quot;, 11: &quot;255.224.0.0&quot;, 12: &quot;255.240.0.0&quot;, 13: &quot;255.248.0.0&quot;, 14: &quot;255.252.0.0&quot;, 15: &quot;255.254.0.0&quot;, 16: &quot;255.255.0.0&quot;, 17: &quot;255.255.128.0&quot;, 18: &quot;255.255.192.0&quot;, 19: &quot;255.255.224.0&quot;, 20: &quot;255.255.240.0&quot;, 21: &quot;255.255.248.0&quot;, 22: &quot;255.255.252.0&quot;, 23: &quot;255.255.254.0&quot;, 24: &quot;255.255.255.0&quot;, 25: &quot;255.255.255.128&quot;, 26: &quot;255.255.255.192&quot;, 27: &quot;255.255.255.224&quot;, 28: &quot;255.255.255.240&quot;, 29: &quot;255.255.255.248&quot;, 30: &quot;255.255.255.252&quot;, 31: &quot;255.255.255.254&quot;, 32: &quot;255.255.255.255&quot; } return subnet_map.get(cidr_value)# URLからデータを取得response = requests.get(URL, timeout=5)ip_data = response.text.splitlines()# jp.allow形式に変換with open(&quot;/etc/jp.allow&quot;, &quot;w&quot;, encoding=&quot;utf-8&quot;) as file: output = [] for line in ip_data: if line and not line.startswith(&quot;#&quot;): # コメント行をスキップ ip, cidr = line.split('/') subnet = convert_subnet(int(cidr)) output.append(f&quot;{ip}/{subnet}&quot;) file.write(&quot; &quot;.join(output)) # スペースで区切って書き込みprint(&quot;IPリストがjp.allowファイルに変換されました。&quot;) 実行 /etc に書き込むため管理者権限が必要 1sudo python jp_allow.py sshdを再起動した場合、設定に誤りがあると接続不可になるため注意 /etc/hosts.allow` 最終行は改行が必要（改行がないと正常に動作しない） /etc/hosts.allow 12sshd: /etc/jp.allow systemctl restart sshd","link":"/2025/06/23/jp_allow/"}],"tags":[{"name":"Node.js","slug":"Node-js","link":"/tags/Node-js/"},{"name":"mise","slug":"mise","link":"/tags/mise/"},{"name":"Zed","slug":"Zed","link":"/tags/Zed/"},{"name":"Bedrock","slug":"Bedrock","link":"/tags/Bedrock/"},{"name":"Python","slug":"Python","link":"/tags/Python/"},{"name":"uv","slug":"uv","link":"/tags/uv/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"sshd","slug":"sshd","link":"/tags/sshd/"}],"categories":[{"name":"Node.js","slug":"Node-js","link":"/categories/Node-js/"},{"name":"Zed","slug":"Zed","link":"/categories/Zed/"},{"name":"Python","slug":"Python","link":"/categories/Python/"},{"name":"Linux","slug":"Linux","link":"/categories/Linux/"}],"pages":[]}